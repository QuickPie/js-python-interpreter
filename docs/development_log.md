## 开发日志

> 本开发日志记录从 2026-01-16 以后的对此项目的所有改动（项目创建时间远早于 2026-01-16）。

## 2026-01-16 ☀ 😊

**里程碑**：语法分析器必需构架全部完成

**具体修改**

1. **语法分析器**：完善缩进与块处理部分

**注意事项**

1. 关于语法分析器中的块处理部分，目前仅识别形式，暂不考虑应用到具体语句中（如 if 语句、 for 语句）

## 2026-01-17 ⛅ 😪

**新添**：完成解释器必需构架

**补充**：完善`README.md`

**启动**：开始写内置函数和调用表达式`CallExpression`

**具体修改**

1. 添加`Environment`类
2. 添加解释器必需构架
4. 添加`Builtins`类和`CallExpression`AST节点
3. 完善`README.md`

**心得**：解释器其实就是用`===`判断当前AST节点类型，再执行或求值；内置函数就是存储在全局作用域里的标识符，只不过当函数使用

## 2026-01-18 🌥️ 😎

**新增**：4种token类型、调用表达式的语法分析支持、`print`函数逻辑

**完善**：`CallExpression`AST节点

**具体修改**

1. **`ast_nodes.js`**：增加`CallExpression`类
2. **`builtins.js`**：添加`print`内置函数逻辑（`createPrint()`）和`internalToString()`
3. **`token.js` `token_patterns.js`**：添加`, = ( )`4种token类型和匹配模板（都是为了调用表达式）

**心得**

词法分析器、语法分析器、解释器三者的框架是最难的，接下来添加新语法就非常简单了！通用的就4步：

1. 添加token
2. 添加AST节点
3. 添加语法分析器逻辑
4. 添加解释器逻辑

## 2026-1-19 ❄ 好多作业📚😧

**新增**：调用表达式语法分析支持（`parseCallExpression()`）和解释器支持（`evalCallExpression()`）

**心情**：开心到飞起✈️🤩

***已上传至 GitHub*** - 添加新语法：调用表达式

## 2026-1-20 🌨❄❄❄ 😊

**修改**：改善README.md

## 2026-1-21 ☀ ☺️

**紧急修改**：发现之前的分号（`;`）逻辑错误！根本没有“空语句”一说！

**连接应用控制器**：将解释器应用到`main.js`中，并添加显示输出代码

**具体修改**

1. 核心源码
  * 删除`EmptyStatement`AST节点
  * 修改`TokenType.SEMICOLON`的语法分析逻辑
  * 删除`EmptyStatement`的解释器逻辑
  * 添加`scopeName`属性至`Environment`类和`PyError`类
2. 应用控制器
  * 调用解释器并显示输出结果

**心得**：修改分号语法分析逻辑时，改爽了！一个接一个的 bug 涌过来，在浏览器中查看调试器、控制台，然后在代码里修改，再运行试验，一轮接一轮。

***已上传至 GitHub*** - 应用解释器至main.js，修复分号语法逻辑bug

## 🎯 开发进度

| 项目 | 状态 |
|------|------|
| 基础字面量 | 完成 |
| 标识符 | 完成 |
| 空表达式 | 完成 |
| 内置函数 | 开发未完成 |
| 调用表达式 | 完成 |
| 变量声明语句 | 未开发 |
